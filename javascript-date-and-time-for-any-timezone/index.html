<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"> <head> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <!-- Enable responsiveness on mobile devices--> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <title> Javascript - Date and Time for any TimeZone &middot; Inteist </title> <!-- CSS --> <link rel="stylesheet" href="/public/css/poole.css"> <link rel="stylesheet" href="/public/css/hyde.css"> <link href='//fonts.googleapis.com/css?family=Fjalla+One|Lato|Droid+Sans+Mono' rel='stylesheet' type='text/css'> <link rel="canonical" href=" https://inteist.com/javascript-date-and-time-for-any-timezone/" /> <!-- Default pygments --> <link rel="stylesheet" href="/public/css/extra/pygments/monokai.css"> <!-- Icons --> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png"> <link rel="shortcut icon" href="/public/favicon.ico"> <!-- RSS --> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> <!-- Google Analytics --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-2630485-14', 'auto'); ga('send', 'pageview'); </script> </head> <body> <div class="sidebar"> <div class="container sidebar-sticky"> <div class="sidebar-about"> <h1> <a href="/"> Inteist </a> </h1> <p class="lead">I code for living</p> </div> <nav class="sidebar-nav"> <!-- <a class="sidebar-nav-item" href="/">Home</a> --> <a class="sidebar-nav-item" href="/dev-resources/">Dev Resources</a> <a class="sidebar-nav-item" href="/figlet/">Figlet</a> <a class="sidebar-nav-item" href="/git/">Git Tips</a> <div class="sidebar-spacer">&nbsp;</div> <a class="sidebar-nav-item" href="/tags/">Tags</a> <a class="sidebar-nav-item" href="/archive/">Archive</a> <a class="sidebar-nav-item" href="/me/">Me</a> </nav> <p class="copyright">&copy; 2010 </p> </div> </div> <div class="content container"> <div class="reading-time"> <p title="249 words">~ 2 min read</p> </div> <div class="post link-underline"> <h1 class="post-title">Javascript - Date and Time for any TimeZone</h1> <span class="post-date">18 Jul 2015</span> <p>A little something I wrote since I did not find anything that does that readily available. It looks solid but may contain bugs for corner cases or possibly other minor inconsistencies. For my needed timezones it seems to work fine.</p> <div class="highlight"><pre><code class="language-js" data-lang="js"><span class="cm">/**</span>
<span class="cm"> * Returns a Date object with the time setup for the desired remote timezone</span>
<span class="cm"> * e.g.</span>
<span class="cm"> * EST   - UTC/GMT-5 --&gt; getGMTRelativeDate(-5);</span>
<span class="cm"> * EDT   - UTC/GMT-4 --&gt; getGMTRelativeDate(-4);</span>
<span class="cm"> * PST   - UTC/GMT-8 --&gt; getGMTRelativeDate(-8);</span>
<span class="cm"> * PDT   - UTC/GMT-7 --&gt; getGMTRelativeDate(-7);</span>
<span class="cm"> * Rome  - UTC/GMT+2 --&gt; getGMTRelativeDate(2);</span>
<span class="cm"> * Japan - UTC/GMT+9 --&gt; getGMTRelativeDate(9);</span>
<span class="cm"> * etc...</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="kd">function</span> <span class="nx">getGMTRelativeDate</span><span class="p">(</span><span class="nx">GMTOffset</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">localDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
    <span class="nx">offset</span> <span class="o">=</span> <span class="nx">localDate</span><span class="p">.</span><span class="nx">getTimezoneOffset</span><span class="p">();</span>
    <span class="nx">LOCALOffset</span> <span class="o">=</span> <span class="p">(</span><span class="nx">offset</span> <span class="o">/</span> <span class="o">-</span><span class="mi">60</span><span class="p">)</span>

    <span class="nx">tzDiff</span> <span class="o">=</span> <span class="nx">LOCALOffset</span> <span class="o">-</span> <span class="nx">GMTOffset</span><span class="p">;</span>
    <span class="nx">localTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>

    <span class="nx">RemoteTime</span> <span class="o">=</span> <span class="nx">localTime</span> <span class="o">-</span> <span class="p">(</span><span class="nx">tzDiff</span> <span class="o">*</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>

    <span class="nx">remoteDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">RemoteTime</span><span class="p">);</span>
    <span class="c1">//log(&quot;Remote time = &quot; + remoteDate.toLocaleString());</span>
    <span class="k">return</span> <span class="nx">remoteDate</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// To invoke just pass the desired diff with GMT</span>
<span class="nx">getGMTRelativeDate</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div> </div> <!-- TAGs LIST --> <div class="tag-links-list" style="text-align: right;"> <a href="/tag/code/"<span style="font-size: .6rem;">#code</span></a>&nbsp;&nbsp; <a href="/tag/js/"<span style="font-size: .6rem;">#js</span></a>&nbsp;&nbsp; <a href="/tag/javascript/"<span style="font-size: .6rem;">#javascript</span></a>&nbsp;&nbsp; </div> <!-- SIMILAR POSTS --> <div class="related"> <h3>Similar Posts</h3> <ul class="related-posts"> <li> <h4> <a href="/subset-test-in-java/"> Subset Test in Java </a> <small>13 Nov 2015</small> </h4> </li> </ul> </div> <!-- LATEST POSTS --> <div class="related"> <h3>Latest Posts</h3> <ul class="related-posts"> <li> <h4> <a href="/git-trello-integration/"> Git + Trello Integration </a> <small>23 May 2016</small> </43> </li> <li> <h4> <a href="/google-i-o-videos-list/"> Google I/O Videos List </a> <small>20 May 2016</small> </43> </li> <li> <h4> <a href="/git-salvaging-lost-commits/"> Git - Salvaging Lost Commits </a> <small>07 Mar 2016</small> </43> </li> <li> <h4> <a href="/system-chaos-quote/"> System Chaos - Quote </a> <small>29 Feb 2016</small> </43> </li> </ul> </div> <div id="disqus_thread"></div> <script type="text/javascript"> /* * * CONFIGURATION VARIABLES * * */ var disqus_shortname = 'inteist'; /* * * DON'T EDIT BELOW THIS LINE * * */ (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); </script> </div> </body> </html>
