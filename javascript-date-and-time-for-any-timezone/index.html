<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"> <head> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2630485-14"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-2630485-14'); </script> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <!-- Enable responsiveness on mobile devices--> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <title> Javascript - Date and Time for any TimeZone &middot; Inteist </title> <!-- CSS --> <link rel="stylesheet" href="/public/css/poole.css"> <link rel="stylesheet" href="/public/css/hyde.css"> <link href='//fonts.googleapis.com/css?family=Fjalla+One|Lato|Droid+Sans+Mono' rel='stylesheet' type='text/css'> <link rel="canonical" href=" https://inteist.com/javascript-date-and-time-for-any-timezone/" /> <!-- Default pygments --> <link rel="stylesheet" href="/public/css/extra/pygments/monokai.css"> <!-- Icons --> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png"> <link rel="shortcut icon" href="/public/favicon.ico"> <!-- RSS --> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> <!-- Google Adsense Validation --> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9336216488761027" crossorigin="anonymous"></script> </head> <body> <div class="sidebar"> <div class="container sidebar-sticky"> <div class="sidebar-about"> <h1 id="site-name"> <a href="/"> Inteist </a> </h1> <p class="lead">I code for living</p> </div> <nav class="sidebar-nav"> <!-- <a class="sidebar-nav-item" href="/">Home</a> --> <a class="sidebar-nav-item" href="/pages/">Pages</a> <a class="sidebar-nav-item" href="/dev-resources/">Dev Resources</a> <a class="sidebar-nav-item" href="/figlet/">Figlet</a> <a class="sidebar-nav-item" href="/git/">Git Tips</a> <div class="sidebar-spacer">&nbsp;</div> <a class="sidebar-nav-item" href="/tags/">Tags</a> <a class="sidebar-nav-item" href="/archive/">Archive</a> <a class="sidebar-nav-item" href="/me/">Me</a> </nav> <p class="copyright">&copy; 2010 - 2022</p> </div> </div> <div class="content container"> <div class="reading-time"> <p title="230 words">~ 1 min read</p> </div> <div class="post link-underline"> <h1 class="post-title">Javascript - Date and Time for any TimeZone</h1> <span class="post-date">18 Jul 2015</span> <p>A little something I wrote since I did not find anything that does that readily available. It looks solid but may contain bugs for corner cases or possibly other minor inconsistencies. For my needed timezones it seems to work fine.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="cm">/**
 * Returns a Date object with the time setup for the desired remote timezone
 * e.g.
 * EST   - UTC/GMT-5 --&gt; getGMTRelativeDate(-5);
 * EDT   - UTC/GMT-4 --&gt; getGMTRelativeDate(-4);
 * PST   - UTC/GMT-8 --&gt; getGMTRelativeDate(-8);
 * PDT   - UTC/GMT-7 --&gt; getGMTRelativeDate(-7);
 * Rome  - UTC/GMT+2 --&gt; getGMTRelativeDate(2);
 * Japan - UTC/GMT+9 --&gt; getGMTRelativeDate(9);
 * etc...
 */</span>
<span class="kd">function</span> <span class="kd">function</span> <span class="nx">getGMTRelativeDate</span><span class="p">(</span><span class="nx">GMTOffset</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">localDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
    <span class="nx">offset</span> <span class="o">=</span> <span class="nx">localDate</span><span class="p">.</span><span class="nx">getTimezoneOffset</span><span class="p">();</span>
    <span class="nx">LOCALOffset</span> <span class="o">=</span> <span class="p">(</span><span class="nx">offset</span> <span class="o">/</span> <span class="o">-</span><span class="mi">60</span><span class="p">)</span>

    <span class="nx">tzDiff</span> <span class="o">=</span> <span class="nx">LOCALOffset</span> <span class="o">-</span> <span class="nx">GMTOffset</span><span class="p">;</span>
    <span class="nx">localTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>

    <span class="nx">RemoteTime</span> <span class="o">=</span> <span class="nx">localTime</span> <span class="o">-</span> <span class="p">(</span><span class="nx">tzDiff</span> <span class="o">*</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>

    <span class="nx">remoteDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">RemoteTime</span><span class="p">);</span>
    <span class="c1">//log("Remote time = " + remoteDate.toLocaleString());</span>
    <span class="k">return</span> <span class="nx">remoteDate</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// To invoke just pass the desired diff with GMT</span>
<span class="nx">getGMTRelativeDate</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div></div> </div> <!-- TAGs LIST --> <div class="tag-links-list" style="text-align: right;"> <a href="/tag/code/" <span style="font-size: .6rem;">#code</span></a>&nbsp;&nbsp; <a href="/tag/js/" <span style="font-size: .6rem;">#js</span></a>&nbsp;&nbsp; <a href="/tag/javascript/" <span style="font-size: .6rem;">#javascript</span></a>&nbsp;&nbsp; </div> <!-- RELATED POSTS --> <div class="related"> <h3 id="similar-posts">Related Posts</h3> <ul class="related-posts"> <li> <h4> <a href="/subset-test-in-java/"> Subset Test in Java </a> <small>13 Nov 2015</small> </h4> </li> </ul> <ul class="related-posts"> <li> <h4> <a href="/clang-format-style-file-for-ios-projects/"> clang-format Style File for iOS Projects </a> <small>13 Sep 2015</small> </h4> </li> </ul> <ul class="related-posts"> <li> <h4> <a href="/clang-format-shell-script-to-format-all-files-in-a-folder/"> Shell Script to Format all Files in a Folder using clang-format </a> <small>13 Sep 2015</small> </h4> </li> </ul> <ul class="related-posts"> <li> <h4> <a href="/uncrustify-whole-ios-project/"> Uncrustify Whole iOS Project </a> <small>24 Aug 2015</small> </h4> </li> </ul> </div> <!-- LATEST POSTS --> <div class="related"> <h3 id="latest-posts">Latest Posts</h3> <ul class="related-posts"> <li> <h4> <a href="/2022-01-30-reviving-the-blog-upgrading-ruby-jekyll-and-all-the-gems/"> Upgrading Ruby Jekyll and all the Gems after years of neglect </a> &nbsp;&nbsp;<small>30 Jan 2022</small> </h4> </li> <li> <h4> <a href="/Its-been-long-5-years-of-silence/"> It's been long 5 years of silence </a> &nbsp;&nbsp;<small>27 Jan 2022</small> </h4> </li> <li> <h4> <a href="/scheduling-randomized-cron-within-an-hour/"> Scheduling randomized cron - within an hour or within a minute </a> &nbsp;&nbsp;<small>18 Feb 2017</small> </h4> </li> <li> <h4> <a href="/android-working-with-gradle-purging-gradle-cache/"> Android - working with Gradle: purging gradle cache </a> &nbsp;&nbsp;<small>13 Jan 2017</small> </h4> </li> </ul> </div> <div id="disqus_thread"></div> <script type="text/javascript"> /* * * CONFIGURATION VARIABLES * * */ var disqus_shortname = 'inteist'; /* * * DON'T EDIT BELOW THIS LINE * * */ (function () { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); </script> </div> </body> </html>
