<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"> <head> <link href="http://gmpg.org/xfn/11" rel="profile"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <!-- Enable responsiveness on mobile devices--> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <title> PHP Remove Curly (Smart) Quotes From String Data &middot; Inteist </title> <!-- CSS --> <link rel="stylesheet" href="/public/css/poole.css"> <link rel="stylesheet" href="/public/css/hyde.css"> <link href='http://fonts.googleapis.com/css?family=Fjalla+One|Lato|Droid+Sans+Mono' rel='stylesheet' type='text/css'> <!-- Default pygments --> <link rel="stylesheet" href="/public/css/extra/pygments/monokai.css"> <!-- Icons --> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png"> <link rel="shortcut icon" href="/public/favicon.ico"> <!-- RSS --> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> <!-- Google Analytics --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-2630485-14', 'auto'); ga('send', 'pageview'); </script> </head> <body> <div class="sidebar"> <div class="container sidebar-sticky"> <div class="sidebar-about"> <h1> <a href="/"> Inteist </a> </h1> <p class="lead">I code for living</p> </div> <nav class="sidebar-nav"> <!-- <a class="sidebar-nav-item" href="/">Home</a> --> <a class="sidebar-nav-item" href="/dev-resources/">Dev Resources</a> <a class="sidebar-nav-item" href="/figlet/">Figlet</a> <a class="sidebar-nav-item" href="/git/">Git Tips</a> <div class="sidebar-spacer">&nbsp;</div> <a class="sidebar-nav-item" href="/tags/">Tags</a> <a class="sidebar-nav-item" href="/archive/">Archive</a> <a class="sidebar-nav-item" href="/me/">Me</a> </nav> <p class="copyright">&copy; 2010 </p> </div> </div> <div class="content container"> <div class="reading-time"> <p title="211 words">~ 1 min read</p> </div> <div class="post link-underline"> <h1 class="post-title">PHP Remove Curly (Smart) Quotes From String Data</h1> <span class="post-date">25 Oct 2013</span> <p>Here's a simple function that will remove curly quotes aka smart quotes from your strings. Â Very useful if you enter data from MS Word files or other sources that may use weird unicode characters. Use it as an input cleaning step before saving the string data.</p> <div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">function</span> <span class="nf">remove_curly_quotes</span><span class="o">(</span><span class="n">$text</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// First, replace UTF-8 characters.</span>
    <span class="n">$text</span> <span class="o">=</span> <span class="n">str_replace</span><span class="o">(</span><span class="n">array</span><span class="o">(</span><span class="s">&quot;\xe2\x80\x98&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\x99&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\x9c&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\x9d&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\x93&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\x94&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\xa6&quot;</span><span class="o">),</span> <span class="n">array</span><span class="o">(</span><span class="s">&quot;&#39;&quot;</span><span class="o">,</span> <span class="s">&quot;&#39;&quot;</span><span class="o">,</span> <span class="sc">&#39;&quot;&#39;</span><span class="o">,</span> <span class="sc">&#39;&quot;&#39;</span><span class="o">,</span> <span class="sc">&#39;-&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="o">--</span><span class="err">&#39;</span><span class="o">,</span>
        <span class="err">&#39;</span><span class="o">...</span><span class="err">&#39;</span><span class="o">),</span> <span class="n">$text</span><span class="o">);</span>
    <span class="c1">// Next, replace their Windows-1252 equivalents.</span>
    <span class="n">$text</span> <span class="o">=</span> <span class="n">str_replace</span><span class="o">(</span><span class="n">array</span><span class="o">(</span><span class="n">chr</span><span class="o">(</span><span class="mi">145</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">146</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">147</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">148</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">150</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">151</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">133</span><span class="o">)),</span> <span class="n">array</span><span class="o">(</span><span class="s">&quot;&#39;&quot;</span><span class="o">,</span> <span class="s">&quot;&#39;&quot;</span><span class="o">,</span> <span class="sc">&#39;&quot;&#39;</span><span class="o">,</span> <span class="sc">&#39;&quot;&#39;</span><span class="o">,</span> <span class="sc">&#39;-&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="o">--</span><span class="err">&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="o">...</span><span class="err">&#39;</span><span class="o">),</span> <span class="n">$text</span><span class="o">);</span>

    <span class="k">return</span> <span class="n">$text</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div> </div> <!-- TAGs LIST --> <div class="tag-links-list" style="text-align: right;"> <a href="/tag/code/"<span style="font-size: .6rem;">#code</span></a>&nbsp;&nbsp; <a href="/tag/php/"<span style="font-size: .6rem;">#php</span></a>&nbsp;&nbsp; </div> <!-- SIMILAR POSTS --> <div class="related"> <h3>Similar Posts</h3> <ul class="related-posts"> <li> <h4> <a href="/subset-test-in-java/"> Subset Test in Java </a> <small>13 Nov 2015</small> </h4> </li> </ul> </div> <!-- LATEST POSTS --> <div class="related"> <h3>Latest Posts</h3> <ul class="related-posts"> <li> <h4> <a href="/google-i-o-videos-list/"> Google I/O Videos List </a> <small>20 May 2016</small> </43> </li> <li> <h4> <a href="/git-salvaging-lost-commits/"> Git - Salvaging Lost Commits </a> <small>07 Mar 2016</small> </43> </li> <li> <h4> <a href="/system-chaos-quote/"> System Chaos - Quote </a> <small>29 Feb 2016</small> </43> </li> <li> <h4> <a href="/some-basic-useful-virtualbox-terminal-commands/"> Some Basic Useful VirtualBox terminal commands </a> <small>29 Feb 2016</small> </43> </li> </ul> </div> <div id="disqus_thread"></div> <script type="text/javascript"> /* * * CONFIGURATION VARIABLES * * */ var disqus_shortname = 'inteist'; /* * * DON'T EDIT BELOW THIS LINE * * */ (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); </script> </div> </body> </html>
