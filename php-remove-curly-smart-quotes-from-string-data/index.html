<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"> <head> <link href="http://gmpg.org/xfn/11" rel="profile"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <!-- Enable responsiveness on mobile devices--> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <title> PHP Remove Curly (Smart) Quotes From String Data &middot; Inteist </title> <!-- CSS --> <link rel="stylesheet" href="/public/css/poole.css"> <link rel="stylesheet" href="/public/css/hyde.css"> <link href='http://fonts.googleapis.com/css?family=Fjalla+One|Lato|Droid+Sans+Mono' rel='stylesheet' type='text/css'> <!-- Default pygments --> <link rel="stylesheet" href="/public/css/extra/pygments/monokai.css"> <!-- Icons --> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png"> <link rel="shortcut icon" href="/public/favicon.ico"> <!-- RSS --> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> </head> <body> <div class="sidebar"> <div class="container sidebar-sticky"> <div class="sidebar-about"> <h1> <a href="/"> Inteist </a> </h1> <p class="lead">I code for living</p> </div> <nav class="sidebar-nav"> <!-- <a class="sidebar-nav-item" href="/">Home</a> --> <a class="sidebar-nav-item" href="/tags">Tags</a> <a class="sidebar-nav-item" href="/archive">Archive</a> <a class="sidebar-nav-item" href="/about">About</a> </nav> <p class="copyright">&copy; 2010 </p> </div> </div> <div class="content container"> <div class="reading-time"> <p title="99 words">~ 1 min read</p> </div> <div class="post"> <h1 class="post-title">PHP Remove Curly (Smart) Quotes From String Data</h1> <span class="post-date">25 Oct 2013</span> <p>Here's a simple function that will remove curly quotes aka smart quotes from your strings. Â Very useful if you enter data from MS Word files or other sources that may use weird unicode characters. Use it as an input cleaning step before saving the string data.</p> <div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">function</span> <span class="nf">remove_curly_quotes</span><span class="o">(</span><span class="n">$text</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// First, replace UTF-8 characters.</span>
    <span class="n">$text</span> <span class="o">=</span> <span class="n">str_replace</span><span class="o">(</span><span class="n">array</span><span class="o">(</span><span class="s">&quot;\xe2\x80\x98&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\x99&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\x9c&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\x9d&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\x93&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\x94&quot;</span><span class="o">,</span> <span class="s">&quot;\xe2\x80\xa6&quot;</span><span class="o">),</span> <span class="n">array</span><span class="o">(</span><span class="s">&quot;&#39;&quot;</span><span class="o">,</span> <span class="s">&quot;&#39;&quot;</span><span class="o">,</span> <span class="sc">&#39;&quot;&#39;</span><span class="o">,</span> <span class="sc">&#39;&quot;&#39;</span><span class="o">,</span> <span class="sc">&#39;-&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="o">--</span><span class="err">&#39;</span><span class="o">,</span>
        <span class="err">&#39;</span><span class="o">...</span><span class="err">&#39;</span><span class="o">),</span> <span class="n">$text</span><span class="o">);</span>
    <span class="c1">// Next, replace their Windows-1252 equivalents.</span>
    <span class="n">$text</span> <span class="o">=</span> <span class="n">str_replace</span><span class="o">(</span><span class="n">array</span><span class="o">(</span><span class="n">chr</span><span class="o">(</span><span class="mi">145</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">146</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">147</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">148</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">150</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">151</span><span class="o">),</span> <span class="n">chr</span><span class="o">(</span><span class="mi">133</span><span class="o">)),</span> <span class="n">array</span><span class="o">(</span><span class="s">&quot;&#39;&quot;</span><span class="o">,</span> <span class="s">&quot;&#39;&quot;</span><span class="o">,</span> <span class="sc">&#39;&quot;&#39;</span><span class="o">,</span> <span class="sc">&#39;&quot;&#39;</span><span class="o">,</span> <span class="sc">&#39;-&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="o">--</span><span class="err">&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="o">...</span><span class="err">&#39;</span><span class="o">),</span> <span class="n">$text</span><span class="o">);</span>

    <span class="k">return</span> <span class="n">$text</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div> </div> <!-- SIMILAR POSTS --> <div class="related"> </div> <!-- LATEST POSTS --> <div class="related"> <h3>Latest Posts</h3> <ul class="related-posts"> <li> <h4> <a href="/free-great-alternative-to-menlo-font"> Meslo LG - Free and Great Alternative to Menlo </a> <small>27 Mar 2015</small> </43> </li> <li> <h4> <a href="/speed-up-jekyll-blog-compress-html"> Further Speed Up Your Jekyll Blog by Compressing the HTML </a> <small>24 Mar 2015</small> </43> </li> <li> <h4> <a href="/pygments-theme-for-jekyll-monokai"> Pygments Theme for Jekyll - Monokai </a> <small>24 Mar 2015</small> </43> </li> <li> <h4> <a href="/reset-css-element-styling"> Reset CSS Element Styling </a> <small>24 Mar 2015</small> </43> </li> </ul> </div> </div> <!-- Google Analytics --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-2630485-14', 'auto'); ga('send', 'pageview'); </script> </body> </html>
